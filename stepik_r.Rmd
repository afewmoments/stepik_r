---
output: html_document
editor_options: 
  chunk_output_type: console
---

# Модуль 1

```{r}
library(tidyverse)
library(randtoolbox)
```

## 1.3 Векторы (часть 1)

Перед тем как создавать функцию, пробуем сделать в рабочем окружении. 

Сначала я попробовал функцию `rev()`, но она сортирует в пределах одного вектора:

```{r}
m <- 3
n <- 7
f1 <- seq(0, 1, by = 1/m)
f2 <- seq(0, 1, by = 1/n)
w <- c(f1, f2)
r <- rev(w)
unique(r)
```

Поэтому лучше использовать функцию `sort()`, она сортирует более привычным способом 

```{r}
m <- 3
n <- 7
f1 <- seq(0, 1, by = 1/m)
f2 <- seq(0, 1, by = 1/n)
w <- c(f1, f2)
r <- sort(w)
unique(r)
```

Теперь всё работает. Можно переходить к намписанию функции

```{r}
get_fractions <- function(m, n) {
x <- seq(0, 1, by = 1/m)
y <- seq(0, 1, by = 1/n)
return(unique(sort(c(x, y), decreasing = TRUE)))
}
get_fractions(3, 7)
```

## 1.4 Управляющие конструкции, работа с пакетами

### Циклы `if`, `else`, `ifelse`

Переносить `else` на другую строку от курвы нельзя.

Если число больше 1.5 напечатай Yammi, иначе напечатай Less

```{r}
if (sqrt(2) > 1.5) {
  print("Yammi")
} else {
  print("Less")
}
```

Если число больше 0.5 выведи Орёл, иначе Решка
```{r}
runif(8)      # Рандомное число от 0 до 1
ifelse(runif(8) > 0.5, "Орёл", "Решка")
```

### Циклы `repeat`

для каждого числа повтори прибавление к этому числу рандомного (от 0 до 1) и выведи на печать, если число больше пяти остановись

```{r}
i <- 0
repeat {
  i <- i + runif(1)
  print(i)
  if (i > 5) break
}
```

### Циклы `while`

Пока число больше 1000 раздели это число пополам и выведи на печать
```{r}
i <- 2^14
while (i > 1000) {
  i <- i/2
  print(i)
}
```

### Циклы `for`

Для каждого `i` в диапазоне от 1 до 8, если остаток от деления числа равен нулю выведи число на печать
```{r}
for (i in 1:8) {
  if (i %% 2 == 0) print(i)
}
```

### Задача 1

Если утверждение верное, поставьте галочку. Впрочем, это лишняя информация, смысл задания и так понятен.


F Синтаксис цикла for зависит от типа вектора в условии.
T ifelse -- это векторизованный вариант if.
F В цикле if можно переносить условие else на новую строку.
T Не стоит использовать цикл for, если есть возможность использовать векторизацию.
F %% -- это оператор целочисленного деления (integer division).

### Задача 2

```{r}
set.seed(1337)
x <- runif(1e6, min = -1, max = 1)
```

Теперь в вашем распоряжении вектор x длиной один миллион. Мне крайне интересно, сколько среди них чисел в диапазоне (-0.2, 0.3). Для определённости не включая границы интервала. Впрочем, кто знаком с теорией вероятностей, тот знает, что это уточнение несущественно.

```{r}
sum(between(x, -0.2, 0.3))
```

### Задача 3

Вам не нравятся ни монетка, ни "камни-ножницы-бумага"? Хорошо, давайте играть в "Монополию", только у меня нет кубика. Напишите его сами!

Функция `dice_roll(n)` должна выдавать n независимых бросков игрального кубика. Допустимые значения, разумеется, в диапазоне от 1 до 6.

Только учтите, что если кубик нечестный (не все грани выпадают с равной вероятностью), я это проверю и играть с вами не сяду!


Для генерации бросков будем использовать функцию `sample()`. Хэлп по ней всё расставит на свои места


```{r}
dice_roll <- function(n) {
x <- sample(1:6, n, replace = TRUE)
  return(x)
}

ggplot() + aes(dice_roll(1000))+ geom_histogram(binwidth=1, colour="black", fill="white")
sessionInfo()
```

